# VideoTranslate 项目执行步骤文档

## 概述

VideoTranslate 是一个完整的视频翻译解决方案，支持从视频导入到最终导出的全流程处理。本文档详细说明项目的执行步骤、每个步骤的要求以及验证方法。

---

## 执行步骤总览

0.下载视频
从youtube下载视频。

1. 导入视频
将本地的视频导入视频到项目中。

2.音频分离
从视频中分离出音频

3. 语音识别
使用whisper.cpp识别音频，保存为srt

3. 翻译字幕
使用lmstudio api翻译字幕，每30条为一批。

4. 生成 TTS 音频
使用index tts api进行生成中文音频
当前是使用一个api服务器进行翻译的，这个有点慢。
应该实现自动启动5个服务（但应该错峰启动，防止资源过载）。
同时调用。

5. 音频对齐与合并
应该以英文srt的时间为“主时间轴”，以它为准，来调整中文音频。
先将英文音频做为背景音频，把中文音频片断放到英文音频的对应的时间点上。
对于每个 中文片断来讲，如果它比英文短，就直接放到英文音频的对应时间点上。
如果它比英文长，则需要将中文音频的片断调整为与英文音频相同的时长。

6. 验证音频对齐与合并是否正确
使用whisper.cpp 对合并后的音频进行识别，
与原始的中文srt文件进行对比，验证对齐是否正确。

7. 导出视频
将处理后的视频导出到本地文件系统。
增加字幕轨道，包含英文和中文字幕。
